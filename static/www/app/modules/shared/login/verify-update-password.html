<div class="login__mv">
    <div class="container-fluid">
        <div class="header-group">
            <h1 class="title" ng-cloak>{{vm.PageService.title()}}</h1>
            <p class="headline" ng-cloak>{{vm.PageService.headline()}}</p>
        </div>
    </div>
    <form name="formUser" id="formUser" ng-submit="formUser.$valid " novalidate="">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="module module--wide">
                        <div class="module__body module__body--wide">
                            <div class="cell cell--form-group">
                                <label class="text text--label">Email Address</label>
                                <div class="form-control--input form-control--ltr">
                                    <input type="email" ng-model="vm.email" name="Email" ng-required="true" /><span class="text--required"></span>
                                </div>
                            </div>
                            <div class="cell cell--form-group">
                                <label class="text text--label">Temporary Code</label>
                                <div class="form-control--input form-control--ltr">
                                    <input type="number" ng-model="vm.temporaryCode" name="temporaryCode" ng-required="true" /><span class="text--required"></span>
                                </div>
                            </div>
                            <div class="cell cell--form-group">
                                <label class="text text--label">New Password</label>
                                <div class="form-control--input form-control--ltr">
                                    <input type="password" ng-model="vm.newPassword" name="newPassword" ng-required="true" ng-minlength="4" /><span class="text--required"></span>
                                </div>
                            </div>
                            <div class="cell form-control--errors" ng-if="(formUser.newPassword.$touched && formUser.newPassword.$error.required) || (formUser.newPassword.$error.minlength)">
                                <span class="text text--warning text--caption" ng-show="formUser.newPassword.$touched && formUser.newPassword.$error.required">Required</span>
                                <span class="text text--warning text--caption" ng-show="formUser.newPassword.$error.minlength">Minimum Password length is 4</span>
                            </div>
                            <div class="cell cell--form-group">
                                <label class="text text--label">Repeat Password</label>
                                <div class="form-control--input form-control--ltr">
                                    <input type="password" ng-model="vm.repeatNewPassword" name="repeatNewPassword" ng-required="true" /><span class="text--required"></span>
                                </div>
                            </div>
                            <div class="cell form-control--errors" ng-class="{ 'status--warning': formUser.repeatNewPassword.$error }" ng-if="(formUser.repeatNewPassword.$touched && formUser.repeatNewPassword.$error.required) || (formUser.repeatNewPassword.$touched && vm.repeatNewPassword !== vm.newPassword  && !formUser.repeatNewPassword.$error.required)">
                                <span class="text text--warning text--caption" ng-show="formUser.repeatNewPassword.$touched && formUser.repeatNewPassword.$error.required">Required</span>
                                <span class="text text--warning text--caption" ng-show="formUser.repeatNewPassword.$touched && vm.repeatNewPassword !== vm.newPassword  && !formUser.repeatNewPassword.$error.required">Passwords don't match</span>
                            </div>
                            <!-- we can try nonce -->
                            <div class="recaptcha form-group" vc-recaptcha ng-if="vm.showRecaptcha" ng-model="vm.captchaResponse" key="vm.captchaPublicKey"
                                 on-create="vm.WidgetCreate(widgetId)" on-success="vm.setCaptchaResponse(response)"></div>

                            <div class=" cell cell--button cell--block">
                                <div class="btn__group">
                                    <input type="button" value="Next" ng-disabled="vm.isClicked || formUser.$invalid || vm.repeatNewPassword !== vm.newPassword" ng-click="vm.isClicked=!vm.isClicked; vm.submit()" class="btn btn--primary btn--block" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </form>
</div>